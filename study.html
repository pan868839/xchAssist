<html>
    <header>
        <title>心持恒辅助背诵</title>
        <meta charset="UTF-8">
    </header>
    <style>
        .main{width: 800px; margin: auto; padding-top: 200px;}
        .question,.hint,.answer{width: 100%; line-height: 30px; height: 30px; text-align: center;}
        .bottom{width: 100px; margin: auto; margin-top: 20px;}
    </style>
    <body class="main">
        <div class="question" id="question">one</div>
        <div class="hint" id="hint">***</div>
        <div class="bottom"><input onkeydown="keyup_submit(event);" class="answer" id="answer" value="" /></div>
        <div class="bottom">
            <button onclick="ok()">认识</button>&nbsp;&nbsp;
            <button onclick="forget()">忘了</button>
        </div>
    </body>
    <script>
        var answer = "";
        //改这儿
        var txt = "学习:study,ち:chi,∈:属于";
        //end
        var txtoary = txt.split(',');
        var txtary = randomTxt(txtoary);
        console.log(txtary);
        var tmary = txtary[0].split(':');
        console.log(tmary);
        var dqstr = txtary[0];
        var question = tmary[0];
        var answer = tmary[1];
        document.getElementById('question').innerHTML=question;
        var dq = 0;
        var max = txtary.length;
        max = max-1;
        var maxstr = tmary[max];
        console.log(maxstr);
        function ok(){
            var reply = document.getElementById('answer').value;
            document.getElementById('answer').value="";
            if(answer==reply){
                //alert("正确");
                //document.getElementById('hint').innerHTML="ok";
                dq++;
                if(dq>max){
                    alert("已经学习完了");
                }else{
                    dqstr = txtary[dq];
                    dtm = txtary[dq].split(':');
                    question = dtm[0];
                    answer = dtm[1];
                    document.getElementById('question').innerHTML=question;
                    document.getElementById('hint').innerHTML="***";
                }
            }else{
                forget();
                //alert("错误");
            }
        }
        function forget(){
            document.getElementById('hint').innerHTML=answer;
            if(maxstr!=dqstr){
                txtary.push(dqstr);
                maxstr = dqstr;
                max++;
            }
        }
        function keyup_submit(e){ 
        var evt = window.event || e; 
        if (evt.keyCode == 13){
            //回车事件
            ok();
            }
        }
        function randomTxt(ary) {
            for (var i = 0; i < ary.length; i++) {
                var randomI = parseInt(ary.length * Math.random());
                var temp = ary[i];
                ary[i] = ary[randomI];
                ary[randomI] = temp;
            }
            return ary;
        }
    </script>
</html>